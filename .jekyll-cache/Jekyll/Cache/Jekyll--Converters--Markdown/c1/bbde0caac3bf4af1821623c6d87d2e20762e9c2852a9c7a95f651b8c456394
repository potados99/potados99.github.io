I"›Ä<h2 id="ë“¤ì–´ê°€ë©°">ë“¤ì–´ê°€ë©°</h2>

<p>ì˜¬í•´ê°€ ëë‚˜ê°€ëŠ” ìš”ì¦ˆìŒ, ë‚˜ë„ <a href="https://www.acmicpc.net/">ë°±ì¤€</a>ì„ ì‹œì‘í–ˆë‹¤.</p>

<p>ì‹œì‘ì€ í•™êµì—ì„œ ì—´ë¦° <a href="https://www.acmicpc.net/contest/view/496">ì†¡ë…„ ì½”ë“œ í˜ìŠ¤í‹°ë²Œ</a>ì´ì—ˆë‹¤.</p>

<p>ì•¼ë§¤ í”„ë¡œê·¸ë˜ë¨¸ì¸ ë‚˜ëŠ” í•œ ë²ˆë„ ê²ªì–´ë³´ì§€ ëª»í•œ ìœ í˜•ì˜ ë¬¸ì œì— íƒˆíƒˆ í„¸ë ¤ë²„ë ¸ê³  ë‘ ê°œ ë°–ì— ë§ì¶”ì§€ ëª»í–ˆë‹¤.</p>

<p>ê·¸ëŸ°ë° ì´ê²ƒì´ ì€ê·¼íˆ ì¬ë¯¸ìˆëŠ” ê²ƒì´, ì´ˆë¡ìƒ‰ìœ¼ë¡œ <code class="highlighter-rouge">ë§ì•˜ìŠµë‹ˆë‹¤!!!</code>ê°€ ëœ° ë•Œ ê¸°ë¶„ì´ ì •ë§ ì§¸ì§€ëŠ” ê²ƒì´ë‹¤.</p>

<p>ê·¸ë˜ì„œ ì•ìœ¼ë¡œ ì‹¬ì‹¬í•  ë•Œë§ˆë‹¤ ë¬¸ì œë¥¼ í’€ì–´ë³´ë ¤ í•œë‹¤.</p>

<h2 id="5373ë²ˆ-íë¹™">5373ë²ˆ íë¹™</h2>

<p><a href="https://www.acmicpc.net/problem/5373">íë¸Œ ëŒë¦¬ëŠ” ë¬¸ì œ</a>ë‹¤. ëª¨ë‘ ì•„ëŠ” ê·¸ 3x3x3 ë£¨ë¹…ìŠ¤ íë¸Œë‹¤.</p>

<p>ì²˜ìŒì— íë¸ŒëŠ” ëª¨ë‘ ë§ì¶°ì§„ ìƒíƒœì´ê³ , instructionì´ ì…ë ¥ë˜ë©´ ê·¸ì— ë”°ë¼ ê° ë©´ì„ íšŒì „í•œë‹¤. ëì´ë‹¤.</p>

<h3 id="êµ¬ìƒ">êµ¬ìƒ</h3>

<p>ê¸°ë³¸ì ìœ¼ë¡œ íë¸Œë„ <a href="https://ko.wikipedia.org/wiki/ìœ í•œ_ìƒíƒœ_ê¸°ê³„">ìƒíƒœ ë¨¸ì‹ </a>ì´ë‹¤.</p>

<p>íë¸Œê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìƒíƒœì˜ ê°¯ìˆ˜ëŠ” <code class="highlighter-rouge">(7! Ã— 3^6) Ã— 24 Ã— (12! Ã— 2^10 )</code>ê°œë¡œ, <strong>ì—„ì²­ ë§ë‹¤.</strong></p>

<p>ë‹¤ë§Œ ë‹¤í–‰íˆë„ íë¸Œì— ê°€í•  ìˆ˜ ìˆëŠ” í–‰ë™ì˜ ê°¯ìˆ˜ëŠ” <code class="highlighter-rouge">6ê°œì˜ ë©´</code> x <code class="highlighter-rouge">2ê°œì˜ ë°©í–¥</code>ìœ¼ë¡œ 12ê°œë°–ì— ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>ê°€ì¥ ë¨¼ì € ë– ì˜¬ë¦´ ìˆ˜ ìˆëŠ” ì ‘ê·¼ì€ íšŒì „ í•¨ìˆ˜ 12ê°œë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ°ë° ì´ê±° ê²½ìš°ê°€ ì—„ì²­ ë§ì•„ì„œ ë²Œì¨ë¶€í„° ë¬´ì„­ë‹¤.</p>

<p>ë§Œì•½ íë¸Œì˜ ì‹œì ì„ ì´ë™í•´ ëª¨ë“  íšŒì „(U, D, L, R, F, B)ì„ í•˜ë‚˜ì˜ íšŒì „(F)ìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤ë©´ ì–´ë–¨ê¹Œ.</p>

<p>íë¸Œë¥¼ ëŒë ¤ ì‹œì ì„ ì´ë™í•˜ë©´ ëŒë ¤ì•¼ í•  ë©´ì´ ë§¨ ì•ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤. ëŒë¦¬ëŠ” ë°©í–¥ì€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>ì˜ˆë¥¼ ë“¤ì–´ <code class="highlighter-rouge">R ìš°íšŒì „</code>ì´ ì£¼ì–´ì§€ë©´ <strong>íë¸Œë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ëŒë¦° ë’¤</strong> <code class="highlighter-rouge">F ìš°íšŒì „</code>ì„ í•˜ëŠ” ê²ƒì´ë‹¤.</p>

<p>ê·¸ë¦¬ê³  ë‹¤ì‹œ ì‹œì ì„ ë³µê·€í•˜ë©´ ëœë‹¤.</p>

<p>ì‚¬ì‹¤ ë‹¤ë¥¸ ë°©ë²•ë„ ë§ì§€ë§Œ(ë¸”ëŸ­ ì¤‘ì‹¬ìœ¼ë¡œ ëª¨ë¸ë§í•œë‹¤ë“ ê°€, ì•„ì˜ˆ ì¢Œí‘œê³„ë¥¼ ì‚¬ìš©í•œë‹¤ë“ ê°€) ì—¬ê¸°ì— ê½‚í˜€ì„œ ì´ë ‡ê²Œ í–ˆë‹¤.</p>

<h3 id="ëª¨ë¸ë§">ëª¨ë¸ë§</h3>

<p>íë¸Œì˜ í˜„ì¬ ìƒíƒœëŠ” ì´ë ‡ê²Œ ëª¨ë¸ë§í•œë‹¤:</p>
<ul>
  <li>ë©´ì˜ ì‹ë³„ì ì •ìˆ˜ë¥¼ keyë¡œ, í•´ë‹¹ ë©´ì˜ ìƒ‰ìƒ ì •ë³´(9)ê°œ ë¦¬ìŠ¤íŠ¸ë¥¼ valueë¡œ í•˜ëŠ” dictionary</li>
</ul>

<p>ì´ë•Œ ê° ë©´ì˜ ìƒ‰ìƒ ì •ë³´ë¥¼ ë‹´ì„ ë•Œì— ìˆœì„œê°€ ì°¸ ì¤‘ìš”í•œë°, ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë²ˆí˜¸ë¥¼ ë§¤ê²¼ë‹¤. ë¹¨ê°„ìƒ‰ì´ F, í°ìƒ‰ì´ Uì´ë‹¤.</p>

<p><img src="/assets/images/cube.png" alt="cube" /></p>
<blockquote>
  <p><a href="https://www.wikiwand.com/en/Rubik%27s_Cube">ì´ë¯¸ì§€ ì¶œì²˜</a></p>
</blockquote>

<p>ì¸ë±ìŠ¤ê°€ ë’¤ì§‘ì–´ì ¸ ìˆë‹¤. ì „ë©´(F)ì— ë§ë‹¿ì•„ ìˆëŠ” ë¶€ë¶„ì´ ì¸ë±ìŠ¤ 6, 7, 8ì´ ë˜ë„ë¡ í•˜ë ¤ê³  ê·¸ë ‡ê²Œ ë§Œë“¤ì—ˆë‹¤. ì™œëƒ! ì „ë©´ì„ ëŒë¦´ ë•Œ ì „ë©´ì„ í†µì§¸ë¡œ íšŒì „í•˜ê³ , ë§ë‹¿ì€ U, D, L, Rì˜ ì¸ë±ìŠ¤ 6, 7, 8ë¼ë¦¬ë§Œ ë°”ê¾¸ë©´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<h3 id="ì»¨ì…‰">ì»¨ì…‰</h3>

<p>ìƒì„¸ êµ¬í˜„ ì»¨ì…‰ì€ ë‹¤ìŒê³¼ ê°™ë‹¤:</p>

<ol>
  <li>
    <p>ë¨¼ì € ì£¼ì–´ì§„ íšŒì „ë©´ì´ ë§¨ ì•ìœ¼ë¡œ ìœ„ì¹˜í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ ì–´ë–¤ ì¶•(X, Y, Z)ìœ¼ë¡œ, ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ íë¸Œì˜ ì‹œì ì„ ë°”ê¿”ì•¼ í•  ì§€ ì •í•œë‹¤.</p>
  </li>
  <li>
    <p>ì „ë©´ì„ íšŒì „í•˜ê³ , ì „ë©´ì— ì¸ì ‘í•´ ì˜í–¥ ë°›ëŠ” ê° ë©´ì˜ ì¼ë¶€ë¶„(ìœ„ì—ì„œ ë³¸ U, D, L, Rì˜ ì¸ë±ìŠ¤ 6, 7, 8 ë¶€ë¶„)ë„ íšŒì „í•œë‹¤.</p>
  </li>
  <li>
    <p>1ì—ì„œ êµ¬í•œ ì •ë³´ë¥¼ ì—­ìœ¼ë¡œ ì‹¤í–‰í•´ ë‹¤ì‹œ ì‹œì ì„ ë³µê·€í•œë‹¤.</p>
  </li>
</ol>

<p>ì´ë•Œ ì¢Œí‘œì¶•ì€ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ì •í•œë‹¤.</p>

<p><img src="/assets/images/cube-coordinate.png" alt="coordinate" /></p>

<blockquote>
  <p>ë„ˆë¬´ ëŒ€ì¶© ê·¸ë ¸ë‚˜..ã…‹ã…‹ã…‹</p>
</blockquote>

<h3 id="ìƒì„¸-ì „ëµ">ìƒì„¸ ì „ëµ</h3>

<p>êµ¬í˜„ë¬¼ì„ ë³´ë©´ 1ë²ˆì´ ì œì¼ ë¹„ëŒ€í•˜ë‹¤.</p>

<p>1ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ì–´ë–»ê²Œ í–ˆëƒ í•˜ë©´â€¦</p>

<ul>
  <li>
    <p>íŠ¹ì • ë©´ì´ ì•ìœ¼ë¡œ ì˜¤ë„ë¡ í•˜ê¸° ìœ„í•´ ê±°ì³ê°€ì•¼ í•˜ëŠ” ì§€ì¹¨ë“¤ì„ <code class="highlighter-rouge">path</code>ë¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë’·ë©´(B)ì„ ì•ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ pathëŠ” <code class="highlighter-rouge">[(Z, CW), (Z, CW)]</code>ì¼ ê²ƒì´ë‹¤. Zì¶•ìœ¼ë¡œ ì‹œê³„ë°©í–¥ íšŒì „ + Zì¶•ìœ¼ë¡œ ì‹œê³„ë°©í–¥ íšŒì „(í•œë²ˆ ë”)ì´ë¼ëŠ” ëœ»ì´ë‹¤. ì´ ê²½ìš° <code class="highlighter-rouge">[(Y, CW), (Y, CW)]</code>ë„ ë¬¼ë¡  ê°€ëŠ¥í•˜ë‹¤. ê°€ì¥ ì§§ê¸°ë§Œ í•˜ë©´ ëœë‹¤.</p>
  </li>
  <li>
    <p>ê° <code class="highlighter-rouge">path</code>ì—ì„œì˜ ì‹œì  ë³€ê²½ ì§€ì¹¨ì„ ìˆ˜í–‰í•  ë•Œì—ëŠ” ë‘ ê°€ì§€ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•œë‹¤: í•˜ë‚˜ëŠ” ì‹œì  ì´ë™ì— ë”°ë¼ ë©´ë“¤ì„ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ì‹œì  ì´ë™ì— ì˜í•´ ì¸ë±ìŠ¤ê°€ ë‹¤ë¥´ê²Œ í•´ì„ë˜ì–´ ìƒê¸°ëŠ” ë¬¸ì œë¥¼ ë³´ì •í•´ì£¼ëŠ” ê²ƒì´ë‹¤. ì´ ì‘ì—…ë“¤ì„ <code class="highlighter-rouge">instruction</code>ì´ë¼ í•œë‹¤.</p>
  </li>
</ul>

<blockquote>
  <p>ì¸ë±ìŠ¤ í•´ì„ì˜ ë¬¸ì œë€? ìœ„ ì²« ë²ˆì§¸ ê·¸ë¦¼ì„ ì°¸ê³ í•˜ë©´ ì¢‹ë‹¤. ë§Œì•½ íë¸Œë¥¼ Zì¶• ì‹œê³„ë°©í–¥ìœ¼ë¡œ ëŒë ¸ë‹¤ë©´, Rì´ì—ˆë˜ ë©´ì€ Fê°€ ë  ê²ƒì´ë‹¤. ê·¸ëŸ°ë° ì´ ë•Œ Rê³¼ FëŠ” ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ ìˆœì„œê°€ ë§¤ê²¨ì§„ë‹¤. ì‚¬ëŒì´ ë³´ê¸°ì— ì˜¤ë¥¸ìª½ ë©´ì˜ ì™¼ìª½ ìœ„ ë¸”ëŸ­ì´ ì£¼í™©ìƒ‰ì´ì—ˆë‹¤ë©´, ì´ ë©´ì„ Fë¡œ ê°€ì ¸ì™”ì„ ë•Œì— ì´ ì£¼í™©ìƒ‰ ë¸”ëŸ­ì€ ì „ë©´ì˜ ì™¼ìª½ ì•„ë˜ì— ë³´ì¼ ê²ƒì´ë‹¤. ì™œëƒ í•˜ë©´ Rì—ì„œ ì™¼ìª½ ìœ„ ë¸”ëŸ­ì˜ ì¸ë±ìŠ¤ëŠ” 6ì´ì—ˆì§€ë§Œ Fì—ì„œ ì¸ë±ìŠ¤ 6ì€ ì™¼ìª½ ì•„ë˜ì´ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ ì´ë¥¼ ë³´ì •í•˜ê¸° ìœ„í•´ ì•ìœ¼ë¡œ ì˜¨ ì˜¤ë¥¸ìª½ ë©´ì„ ìš°íšŒì „í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>
</blockquote>

<ul>
  <li>ì£¼ì–´ì§„ ë©´ì„ ì•ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ <code class="highlighter-rouge">path</code>ë¥¼ êµ¬í•˜ê³ , ì´ <code class="highlighter-rouge">path</code>ë¥¼ ê¸°ë°˜ìœ¼ë¡œ <code class="highlighter-rouge">instruction</code>ì„ êµ¬í•œë‹¤. ì´ë ‡ê²Œ êµ¬í•´ì§„ <code class="highlighter-rouge">instruction</code>ì„ ìˆ˜í–‰í•˜ë©´ ì‹œì  ì´ë™ì´ ì™„ë£Œëœë‹¤.</li>
</ul>

<p>ë³µì¡í•´ ë³´ì´ì§€ë§Œ ì¼ë°˜í™”í•˜ì—¬ ì“°ë ¤ë‹ˆ ê·¸ëŸ° ê²ƒì´ë‹¤.</p>

<p>ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ì.</p>

<blockquote>
  <p>ì•ì— ì´ˆë¡ìƒ‰, ìœ„ì— í°ìƒ‰ì´ ì˜¤ê²Œ íë¸Œë¥¼ ì¡ëŠ”ë‹¤. ìœ—ë©´ì´ ì•ìœ¼ë¡œ ì˜¤ë„ë¡ íë¸Œë¥¼ ë°”ê¿” ì¡ê³ ì í•œë‹¤. ë°”ê¿”ì¡ì€ ë’¤ì—ëŠ” í°ìƒ‰ì´ ì•ì—, ê·¸ ë’¤ì— ìˆë˜ íŒŒë€ìƒ‰ì´ ìœ„ì— ë³´ì¼ ê²ƒì´ê³ , ì•ì— ìˆë˜ ì´ˆë¡ìƒ‰ì€ ë°”ë‹¥ìœ¼ë¡œ ê°ˆ ê²ƒì´ë‹¤. ì´ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” íë¸Œë¥¼ Yì¶•ìœ¼ë¡œ ìš°íšŒì „í•´ì•¼ í•œë‹¤.</p>
</blockquote>

<p>ì—¬ê¸°ê¹Œì§€ê°€ ì¸ê°„ì ì¸ ì„¤ëª…ì´ë‹¤.</p>

<p>ì—¬ê¸°ì„œë¶€í„°ëŠ” ì»´í“¨í„°ìš© ì„¤ëª…ì´ë‹¤.</p>

<blockquote>
  <p>ê·¸ë ‡ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ” ìš°ì„  ì¶•ê³¼ í‰í–‰í•œ U, D, F, Bë¥¼ ì´ë™í•´ì•¼ í•œë‹¤. ë¨¼ì € Uì™€ Fë¥¼ swapí•˜ê³ , Dì™€ Bë¥¼ swapí•œë‹¤. ê·¸ë¦¬ê³  Uì™€ Dë¥¼ swapí•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë„¤ ë©´ì´ ì ì ˆí•œ ìœ„ì¹˜ì— ìˆê²Œ ëœë‹¤.</p>
</blockquote>

<p><img src="/assets/images/rotate-right.png" alt="rotate-right" /></p>

<blockquote>
  <p>ì´ì œ ì¶•ê³¼ ì§êµí•˜ëŠ” Lê³¼ Rì„ íšŒì „í•´ ì£¼ì–´ì•¼ í•œë‹¤. Lì€ ìš°íšŒì „, Rì€ ì¢ŒíšŒì „ í•´ì¤€ë‹¤.</p>
</blockquote>

<blockquote>
  <p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë’·ë©´ê³¼ ìœ—ë©´ì˜ ìˆœì„œ ë°©í–¥ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ìœ—ë©´ 180ë„ íšŒì „, ì•ë©´ê³¼ ì•„ë«ë©´ì˜ ìˆœì„œ ë°©í–¥ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì•„ë«ë©´ 180ë„ íšŒì „í•´ì¤€ë‹¤.</p>
</blockquote>

<p>ì‹œì  ì´ë™ ë.</p>

<p>ì´ê²ƒë§Œ ëë‚˜ë©´ ë‹¤ë¥¸ ê²ƒë“¤ì€ ì„¤ëª…ì´ í•„ìš” ì—†ë‹¤ :)</p>

<h2 id="êµ¬í˜„">êµ¬í˜„</h2>

<p>ì•„, ë‹¤ ì“°ê³  ë³´ë‹ˆ ì½”ë“œê°€ 407ì¤„ì´ë‹¤. ëª¨ë‘ ì„¤ëª…í•˜ê¸°ëŠ” ë„ˆë¬´ ë°©ëŒ€í•˜ê³ , ì¤‘ìš”í•œ ê²ƒë§Œ ì§šì–´ì•¼ê² ë‹¤. ì½”ë“œ ì „ë¬¸ì€ <a href="https://github.com/potados99/problem-solving/blob/master/boj/5373.py">ì—¬ê¸°</a>ì— ìˆë‹¤.</p>

<h3 id="pathë¥¼-êµ¬í•˜ëŠ”-ë¶€ë¶„">Pathë¥¼ êµ¬í•˜ëŠ” ë¶€ë¶„</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">_get_path_to_dest_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="s">"""
    Get list of instructions of how we can bring the destination face at front.
    """</span>
    <span class="n">to_go</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">destination</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">:</span>
        <span class="n">to_go</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">destination</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">:</span>
        <span class="n">to_go</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">destination</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">:</span>
        <span class="n">to_go</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">destination</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">:</span>
        <span class="n">to_go</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">destination</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">:</span>
        <span class="n">to_go</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">))</span>
        <span class="n">to_go</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">))</span>

    <span class="n">to_return</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">pair</span><span class="p">:</span> <span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">to_go</span><span class="p">))</span>
    <span class="n">to_return</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">to_go</span><span class="p">,</span> <span class="n">to_return</span><span class="p">)</span>
</code></pre></div></div>

<p>ë”±íˆ ë³„ ê²ƒ ì—†ë‹¤. ì£¼ì–´ì§„ ë©´(<code class="highlighter-rouge">destination</code>)ì´ ì•ì— ì˜¤ë„ë¡ í•˜ê¸° ìœ„í•´ì„œëŠ” 2ë²ˆ ì´í•˜ì˜ ì‹œì  ì´ë™ë§Œì´ í•„ìš”í•˜ë‹¤.</p>

<p><code class="highlighter-rouge">to_go</code>ì˜ ê° ì›ì†ŒëŠ” íŠœí”Œì´ë‹¤. ê° íŠœí”Œì€ (<code class="highlighter-rouge">íšŒì „ì¶•</code>, <code class="highlighter-rouge">ë°©í–¥</code>)ì´ë‹¤.</p>

<p><code class="highlighter-rouge">to_return</code>ì€ ì›ë˜ ì‹œì ìœ¼ë¡œ ë‹¤ì‹œ ëŒì•„ê°€ê¸° ìœ„í•´ êµ¬í•œ ê²ƒì´ë‹¤. íšŒì „ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ í•œ ë’¤ ì—­ìœ¼ë¡œ ì •ë ¬í•˜ë©´ ëœë‹¤.</p>

<h3 id="pathë¡œë¶€í„°-instructionì„-êµ¬í•˜ëŠ”-ë¶€ë¶„">Pathë¡œë¶€í„° instructionì„ êµ¬í•˜ëŠ” ë¶€ë¶„</h3>

<p>ì´ ë¶€ë¶„ì€ ì–´ë–»ê²Œë“  ì¤„ì´ë ¤ í•´ë³´ì•˜ìœ¼ë‚˜, ì–´ë–»ê²Œ ì¼ë°˜í™”ì‹œí‚¤ê¸°ê°€ ì–´ë ¤ì›Œ ê²°êµ­ ifë¡œ ë„ë°°ëë‹¤. ê·¸ë˜ì„œ ì¡°ê¸ˆ ê¸¸ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">_get_instructions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="s">"""
    Type of instructions:
        - swap: (INST_SWAP, face_a, face_b)
        - rotate: (INST_ROT, face, direction)

    These are about moving view, not rotating a face!
    """</span>
    <span class="n">instructions</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">SWAP</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">instructions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">INST_SWAP</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
    <span class="n">ROT</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">instructions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">INST_ROT</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="n">step</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="n">step</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">X</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">direction</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># CW
</span>                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">)</span>

                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># CCW
</span>                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">)</span>

                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">Y</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">direction</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># CW
</span>                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">)</span>

                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>

                <span class="c1"># Compensate indexing orientation.
</span>                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># CCW
</span>                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">)</span>

                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>

                <span class="c1"># Compensate indexing orientation.
</span>                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">Z</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">direction</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># CW
</span>                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">)</span>

                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>

                <span class="c1"># Compensate indexing orientation.
</span>                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># CCW
</span>                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
                <span class="n">SWAP</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">)</span>

                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>

                <span class="c1"># Compensate indexing orientation.
</span>                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
                <span class="n">ROT</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">instructions</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">path</code>ë¡œë¶€í„° ë§Œë“¤ì–´ì§€ëŠ” <code class="highlighter-rouge">instrunction</code>ì€ <code class="highlighter-rouge">INST_SWAP</code>ê³¼ <code class="highlighter-rouge">INST_ROT</code>(ATION)ìœ¼ë¡œ ë‘ ê°€ì§€ì´ë‹¤.</p>

<p>ì½”ë“œ ì´ˆì•ˆì€ ìƒê°ë§Œìœ¼ë¡œ ì§°ìœ¼ë‚˜ ìœ„ì˜ ê²½ìš°ë“¤ì„ ê²€ì¦í•˜ëŠ” ê²ƒì€ í…ŒìŠ¤íŠ¸ê°€ ë‹¤ í–ˆë‹¤. ì—­ì‹œ ëŒë ¤ë³´ë©´ì„œ ì§œëŠ”ê²Œ ì œë§›. ì¸í„°í”„ë¦¬í„°(ë˜ëŠ” ì»´íŒŒì¼ëŸ¬)ì™€ ì½”ë“œëŠ” í•¨ê»˜ ì„±ì¥í•œë‹¤. &gt;&lt;</p>

<h3 id="instruction-ì‹¤í–‰í•˜ëŠ”-ë¶€ë¶„">Instruction ì‹¤í–‰í•˜ëŠ” ë¶€ë¶„</h3>

<p>ì €ê±¸ ë‹¤ êµ¬í•´ì„œ ì–´ë””ì— ì“°ëƒë©´, ì—¬ê¸° ì‹œì  ì´ë™ ë©”ì†Œë“œì—ì„œ ì“´ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">_move_view</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="s">"""
    Rotate view (not the face!) so that the destination face be at front.
    """</span>
    <span class="n">instructions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_instructions</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">step</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">INST_SWAP</span><span class="p">:</span>
            <span class="n">face_a</span> <span class="o">=</span> <span class="n">step</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">face_b</span> <span class="o">=</span> <span class="n">step</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_swap_face</span><span class="p">(</span><span class="n">face_a</span><span class="p">,</span> <span class="n">face_b</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">step</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">INST_ROT</span><span class="p">:</span>
            <span class="n">face</span> <span class="o">=</span> <span class="n">step</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="n">step</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rotate_face</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ì¢…í•©-rotate_face">ì¢…í•© rotate_face</h3>

<p>ìœ„ì— ë‚˜ì˜¨ ê²ƒë“¤ì„ ë‹¤ ì‚¬ìš©í•˜ì—¬ì„œ, ë¬¸ìë¡œ ëœ ë©´ ì´ë¦„ê³¼ ë°©í–¥ì„ ë°›ì•„ íšŒì „ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œì´ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">rotate_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">face</span><span class="p">:</span> <span class="nb">chr</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">chr</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="s">"""
    Rotate the given face of the cube with given direction.
    """</span>
    <span class="n">face</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_face</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">face</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="k">return</span>

    <span class="n">direction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_direction</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">direction</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="k">return</span>

    <span class="c1"># Move the view so the face is at front.
</span>    <span class="n">way_to_go</span><span class="p">,</span> <span class="n">way_to_return</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_path_to_dest_face</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_move_view</span><span class="p">(</span><span class="n">way_to_go</span><span class="p">)</span>

    <span class="c1"># Now the face is at front.
</span>
    <span class="c1"># Not only the front face, 6~8 blocks of [U, D, L, R] faces are affected.
</span>    <span class="n">affected</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">swap_part</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_swap_part_of_face</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">affected</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">affected</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">direction</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># CW
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">_rotate_face</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">)</span>
        <span class="n">swap_part</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>
        <span class="n">swap_part</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># CCW
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">_rotate_face</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">)</span>
        <span class="n">swap_part</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
        <span class="n">swap_part</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">)</span>

    <span class="n">swap_part</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_move_view</span><span class="p">(</span><span class="n">way_to_return</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">path</code> êµ¬í•˜ê³ , ì‹œì  ë³€ê²½í•˜ê³ , ì „ë©´(F) ëŒë¦¬ê³ , ë‹¤ì‹œ ë°˜ëŒ€ <code class="highlighter-rouge">path</code>ë¡œ ì‹œì  ë³µê·€í•œë‹¤.</p>

<h3 id="ë””ë²„ê·¸ìš©">ë””ë²„ê·¸ìš©</h3>

<p>ë¤í”„ ë©”ì†Œë“œë¥¼ ë§Œë“¤ì—ˆë‹¤. í˜¸ì¶œí•˜ë©´ ì „ê°œë„ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">dump_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">border</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"{space} Dump started {space}"</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">space</span><span class="o">=</span><span class="s">'='</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">*</span><span class="mi">2</span><span class="p">)))</span>

    <span class="n">rotated</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_square_rotated</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">faces</span><span class="p">[</span><span class="n">m</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
    <span class="n">print_color</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">m</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s">"{color}"</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_color_to_string</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="n">j</span><span class="p">])),</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>

    <span class="n">up</span> <span class="o">=</span> <span class="n">rotated</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">U</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">left</span> <span class="o">=</span> <span class="n">rotated</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CCW</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">front</span> <span class="o">=</span> <span class="n">rotated</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">back</span> <span class="o">=</span> <span class="n">rotated</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">rotated</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">down</span> <span class="o">=</span> <span class="n">rotated</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">CW</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Up
</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">' '</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">+</span><span class="n">padding</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
            <span class="n">print_color</span><span class="p">(</span><span class="n">up</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">*</span><span class="n">padding</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>

    <span class="c1"># Left, front, right, back
</span>    <span class="n">mid_faces</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span><span class="p">,</span> <span class="n">front</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">back</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mid_faces</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
                <span class="n">print_color</span><span class="p">(</span><span class="n">mid_faces</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="s">' '</span><span class="o">*</span><span class="n">padding</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">*</span><span class="n">padding</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>

    <span class="c1"># Down
</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">' '</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">+</span><span class="n">padding</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">):</span>
            <span class="n">print_color</span><span class="p">(</span><span class="n">down</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">border</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"{space} Dump finished {space}"</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">space</span><span class="o">=</span><span class="s">'='</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">*</span><span class="mi">2</span><span class="p">)))</span>
</code></pre></div></div>

<p>ì—­ì‹œ ì½”ë“œëŠ” ì¸í„°í”„ë¦¬í„°ì™€ í•¨ê»˜ ì„±ì¥í•˜ëŠ” ê²ƒì´ë¼(ì†ì½”ë”© ì¥ì•½ì„) ì˜ˆìœ ë””ë²„ê·¸ í•¨ìˆ˜ê°€ ìˆì–´ì•¼ ê°œë°œí•  ë§›ì´ ë‚œë‹¤.</p>

<p>íŒŒë¼ë¯¸í„°ë¡œ ì „/í›„ borderë‚˜ ë©´ ì‚¬ì´ ê°„ê²©ì„ ì¡°ì ˆí•  ìˆ˜ ìˆê²Œ í•´ë†“ì•˜ë‹¤. ìš”ê¸´í•˜ê²Œ ì¨ë¨¹ì—ˆë‹¤.</p>

<h3 id="ë‚˜ë¨¸ì§€">ë‚˜ë¨¸ì§€</h3>

<p>ë‚˜ë¨¸ì§€ëŠ” ë©”ì†Œë“œ ì´ë¦„ë§Œ ë³´ê³  êµ¬í˜„í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ ê°„ë‹¨í•˜ë‹¤. ì½”ë“œ ì „ë¬¸ì€ <a href="https://github.com/potados99/problem-solving/blob/master/boj/5373.py">ì—¬ê¸°</a>ì—.</p>

<h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°</h2>

<p>ì¬ë¯¸ìˆì—ˆë‹¤. ë§ˆì¹¨ ì±…ì¥ ì˜†ì— íë¸Œê°€ ìˆì–´ì„œ ë‹¤í–‰ì´ë‹¤. ì—†ì—ˆìœ¼ë©´ í™”ë‚ ë»”í–ˆë‹¤.</p>

<h2 id="reference">Reference</h2>

<ul>
  <li><a href="https://ko.wikipedia.org/wiki/ìœ í•œ_ìƒíƒœ_ê¸°ê³„">ìœ í•œ ìƒíƒœ ê¸°ê³„</a></li>
  <li><a href="https://jjycjnmath.tistory.com/9">íë¸Œ ê²½ìš°ì˜ ìˆ˜</a></li>
  <li><a href="https://www.wikiwand.com/en/Rubik%27s_Cube">Rubikâ€™s Cube</a></li>
</ul>
:ET