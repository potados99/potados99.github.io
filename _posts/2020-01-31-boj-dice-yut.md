---
title: "[BOJ] 백준 17825 주사위 윷놀이: 삽질 기록"
excerpt: "문제 잘못 이해해서 한참 삽질한 후기"
date: 2020-01-31 17:04:44 +0900
categories:
   - ps
tags:
   - boj
   - ps
   - digging
   - c++
---

[백준 문제 페이지](https://www.acmicpc.net/problem/17825)

[풀이 소스코드](https://github.com/potados99/ps-study/blob/master/17825.cpp)

## 들어가며

푸는 데에 3일 걸렸다. 문제가 불친절한건지 아니면 내가 잘못 이해한건지, 시키는대로 만들지 않아서 푸는 데에 꽤나 오래 걸렸다. 한참 삽질했다.

## 문제 ~대충~ 파악

문제를 열자 마자 뜬금없이 이상한 주사위판 같은게 튀어나온다.
![wtf is this](/assets/images/dice_map.png)

말이 있고, 주사위를 던져 나온 수 만큼 말을 이동시킨다. 말은 총 네 개가 있고, 주사위를 던져서 나온 수 10개가 미리 주어진다.

이때 이동시킬 말들을 적절히 선택해서 네 개 말이 얻은 점수의 합이 최대가 되도록 해야 한다.

요약하자면:

- [깊이 우선 탐색(DFS)](https://en.wikipedia.org/wiki/Depth-first_search)을 활용하는
- 시뮬레이션 문제다.

## 1차 시도

### 맵 만들기

어떻게 풀어야 할 지보다 어떤 자료 구조를 사용할까가 먼저 떠올랐다. 그래서 맵을 먼저 만들었다.

일단 기본적으로 맵은 여러 개의 노드로 이루어진다. 각 노드는 정수로 된 값을 가지며, 최대 두 개의 다음 노드를 가리킬 수 있다. 연결 리스트의 그것과 매우 유사한 구조이다.

처음에는 모든 노드를 만들고(힙에 할당) 그 포인터를 변수에 넣어둔 뒤, 그것들끼리 이어 맵을 완성하려 했다. 그런데 이렇게 되면 몇 가지 문제가 생긴다:

- 맵 변경에 유연하지 않음(사실 여기서는 크게 문제되지 않음).
- 변수 이름 짓는 데에 문제가 생김(중복되는 숫자가 존재함).
- 코드의 양이 폭발적으로 증가.
- 못생김.

그래서 생각해낸 방법은 다음과 같다:

> **먼저 시작 노드를 만들고, 그 노드에 같은 성질을 가지는 노드들을 주욱 이어 붙여준다.**

~~~c
// 노드를 하나 만들고,
node *start_node = create(0);

// 그 노드를 시작으로 주우욱 붙여준다.
node *node10 = attach(start_node, 5, new int[5] {2, 4, 6, 8, 10});
~~~

이런 식으로 만들어주는 것이다.

기본 발상은 위와 같다. 이제 디테일을 더해보자.

노드는 **검은 노드**와 **파란 노드** 로 나뉘어지며 파란 노드의 다음 길은 **빨간 길**과 **파란 길** 로 나뉘어진다.

맵에 등장하는 색상은 `enum color`를 사용하여 정의했다:
~~~c
enum color {
    black = 1,
    blue = 2,
    red = 3
};
~~~

노드는 `값`, `색상`, `다음노드(일반)`, `다음노드(특별)` 속성을 가진다:
~~~c
struct node {
    int             num;
    enum color      color;
    struct node     *next;
    struct node     *special;
};
~~~
*placeholder*

`다음 노드(일반)`은 검은 노드에서 다음 노드로 이어지는 **빨간 길** 에 있는 노드를 뜻하며, `다음 노드(특별)`은 파란 노드에서 다음 노드로 이어지는 두 길 중 **파란 길** 에 있는 노드를 뜻한다.

맵의 시작과 끝을 담은 맵 정보는 다음과 같이 정의했다:
~~~c
struct map {
    struct node    *start;
    struct node    *last;
}
~~~
*placeholder*

아무런 정보가 없는 시작 노드는 존재하지만 **별도의 끝 노드는 만들지 않았다.**

### 플레이어 만들기

문제에서는

## Reference

- [Depth-first search](https://en.wikipedia.org/wiki/Depth-first_search)
